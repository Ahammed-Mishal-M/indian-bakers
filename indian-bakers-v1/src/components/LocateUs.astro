---
---

<section id="locate-us" class="py-24 bg-[#050505] relative overflow-hidden border-t border-white/5">
  <!-- Animated Background Elements -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <!-- Moving Gold Blob (Top-Left to Bottom-Right) -->
    <div class="absolute -top-[20%] -left-[20%] w-[600px] h-[600px] bg-[#E9A127] opacity-20 rounded-full blur-[100px] animate-blob-float"></div>
    
    <!-- Moving Blue/Gray Blob (Opposite) -->
    <div class="absolute -bottom-[20%] -right-[20%] w-[600px] h-[600px] bg-slate-800 opacity-20 rounded-full blur-[100px] animate-blob-float-reverse"></div>
    
    <!-- Noise / Mesh Texture Overlay -->
    <div class="absolute inset-0 opacity-[0.03]" style="background-image: url('https://www.transparenttextures.com/patterns/stardust.png');"></div>
  </div>

  <div class="container mx-auto relative z-10 max-w-4xl px-4 md:px-0">
    
    <div class="text-center mb-10 md:mb-16 px-6" data-aos="fade-up">
      <span class="font-serif text-brand text-lg italic mb-2 block opacity-80">Find Us</span>
      <h2 class="text-4xl md:text-5xl font-serif font-bold text-white mb-6">
        Visit Our <span class="text-brand">Stores</span>
      </h2>
      <p class="text-white/60 max-w-2xl mx-auto font-sans leading-relaxed">
        Drop by for a warm welcome and fresh treats at our convenient locations in Alathur.
      </p>
    </div>

    <!-- Carousel Container -->
    <div class="relative group" id="store-carousel" data-aos="fade-up" data-aos-delay="200">
      
      <!-- Track -->
      <div class="overflow-hidden rounded-3xl border border-white/10 bg-white/5 backdrop-blur-xl shadow-2xl transition-all duration-500 hover:border-[#E9A127]/50 hover:shadow-[0_0_40px_rgba(233,161,39,0.15)] group-card">
        <div id="carousel-track" class="flex transition-transform duration-700 ease-in-out cursor-grab active:cursor-grabbing">
          
          <!-- Store 1: City Mall -->
          <div class="w-full flex-shrink-0 relative">
             <div class="grid md:grid-cols-2 h-full">
                <!-- Image Side -->
                <div class="relative aspect-[4/3] md:aspect-auto md:h-full overflow-hidden">
                   <img 
                    src="/images/shop-interior.jpeg" 
                    alt="Indian Bakers City Mall" 
                    class="w-full h-full object-cover transform transition-transform duration-700 ease-out group-hover:scale-105"
                    onerror="this.src='https://placehold.co/800x600/1a1a1a/e9a127?text=City+Mall+Branch'"
                  />
                  <!-- Overlay for consistency -->
                  <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent md:bg-gradient-to-r md:from-transparent md:to-black/50"></div>
                </div>

                <!-- Content Side -->
                <div class="p-8 md:p-12 flex flex-col justify-center relative overflow-hidden">
                  <!-- Spotlight Gradient -->
                  <div class="absolute inset-0 bg-gradient-to-br from-[#E9A127]/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"></div>
                  
                  <div class="relative z-10 transition-transform duration-500 group-hover:translate-x-2">
                    <h3 class="text-3xl font-serif text-white mb-6">City Mall Branch</h3>
                    <div class="space-y-6 mb-10">
                      <div class="flex items-start gap-4">
                        <div class="p-2 rounded-full bg-white/5 border border-white/10 text-[#E9A127]">
                          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
                        </div>
                        <p class="text-white/80 font-sans text-base leading-relaxed pt-1">
                          Opp. New Canara Bank, Court Road,<br/>
                          City Mall, Alathur
                        </p>
                      </div>
                      <div class="flex items-center gap-4">
                         <div class="p-2 rounded-full bg-white/5 border border-white/10 text-[#E9A127]">
                           <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.05 12.05 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.03 12.03 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                         </div>
                        <a href="tel:+919446655057" class="text-white/80 hover:text-brand transition-colors font-sans text-base font-medium">+91 94466 55057</a>
                      </div>
                    </div>
                    
                    <a 
                      href="https://www.google.com/maps/search/?api=1&query=Indian+Bakers+Opp+New+Canara+Bank+Court+Road+City+Mall+Alathur" 
                      target="_blank" 
                      rel="noopener noreferrer"
                      class="relative overflow-hidden inline-flex items-center justify-center gap-3 w-full py-4 bg-[#E9A127] text-black font-bold uppercase tracking-wider text-sm rounded-xl transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg group/btn"
                    >
                      <span class="absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/40 to-transparent -translate-x-full group-hover/btn:animate-[shine_1s_infinite]"></span>
                      <span class="relative z-10 flex items-center gap-2">
                        Get Directions
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
                      </span>
                    </a>
                  </div>
                </div>
             </div>
          </div>

          <!-- Store 2: Main Road -->
          <div class="w-full flex-shrink-0 relative">
             <div class="grid md:grid-cols-2 h-full">
                <!-- Image Side -->
                <div class="relative aspect-[4/3] md:aspect-auto md:h-full overflow-hidden">
                   <img 
                    src="/images/shop-exterior.jpeg" 
                    alt="Indian Bakers Main Road" 
                    class="w-full h-full object-cover transform transition-transform duration-700 ease-out group-hover:scale-105"
                    onerror="this.src='https://placehold.co/800x600/1a1a1a/e9a127?text=Main+Road+Branch'"
                  />
                  <!-- Overlay for consistency -->
                 <div class="absolute inset-0 bg-gradient-to-t from-black/80 via-transparent to-transparent md:bg-gradient-to-r md:from-transparent md:to-black/50"></div>
                </div>

                 <!-- Content Side -->
                 <div class="p-8 md:p-12 flex flex-col justify-center relative overflow-hidden">
                  <!-- Spotlight Gradient -->
                  <div class="absolute inset-0 bg-gradient-to-br from-[#E9A127]/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500 pointer-events-none"></div>

                  <div class="relative z-10 transition-transform duration-500 group-hover:translate-x-2">
                    <h3 class="text-3xl font-serif text-white mb-6">Main Road Branch</h3>
                    <div class="space-y-6 mb-10">
                      <div class="flex items-start gap-4">
                        <div class="p-2 rounded-full bg-white/5 border border-white/10 text-[#E9A127]">
                          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>
                        </div>
                        <p class="text-white/80 font-sans text-base leading-relaxed pt-1">
                          Near Old Bus Stand, Main Road,<br/>
                          Alathur, Palakkad
                        </p>
                      </div>
                      <div class="flex items-center gap-4">
                         <div class="p-2 rounded-full bg-white/5 border border-white/10 text-[#E9A127]">
                           <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.05 12.05 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.03 12.03 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"/></svg>
                         </div>
                        <a href="tel:+919446655058" class="text-white/80 hover:text-brand transition-colors font-sans text-base font-medium">+91 94466 55058</a>
                      </div>
                    </div>
                    <a 
                      href="https://www.google.com/maps/search/?api=1&query=Indian+Bakers+Near+Old+Bus+Stand+Main+Road+Alathur+Palakkad" 
                      target="_blank" 
                      rel="noopener noreferrer"
                      class="relative overflow-hidden inline-flex items-center justify-center gap-3 w-full py-4 bg-[#E9A127] text-black font-bold uppercase tracking-wider text-sm rounded-xl transition-all duration-300 transform hover:-translate-y-1 hover:shadow-lg group/btn"
                    >
                      <span class="absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/40 to-transparent -translate-x-full group-hover/btn:animate-[shine_1s_infinite]"></span>
                      <span class="relative z-10 flex items-center gap-2">
                        Get Directions
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" y1="14" x2="21" y2="3"/></svg>
                      </span>
                    </a>
                  </div>
                </div>
             </div>
          </div>

        </div>
      </div>
      
      <!-- Indicators -->
      <div class="flex justify-center gap-3 mt-8">
        <button aria-label="Slide 1" data-index="0" class="w-3 h-3 rounded-full bg-white/20 transition-all duration-300 hover:bg-brand hover:scale-125 carousel-dot active-dot"></button>
        <button aria-label="Slide 2" data-index="1" class="w-3 h-3 rounded-full bg-white/20 transition-all duration-300 hover:bg-brand hover:scale-125 carousel-dot"></button>
      </div>
      
    </div>
  </div>
</section>

<style>
  .active-dot {
    background-color: #E9A127; /* brand color */
    transform: scale(1.3);
  }

  /* Custom Animations for Blob Floating */
  @keyframes blob-float {
    0% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(30px, -50px) scale(1.1); }
    66% { transform: translate(-20px, 20px) scale(0.9); }
    100% { transform: translate(0, 0) scale(1); }
  }

  @keyframes blob-float-reverse {
    0% { transform: translate(0, 0) scale(1); }
    33% { transform: translate(-30px, 50px) scale(0.9); }
    66% { transform: translate(20px, -20px) scale(1.1); }
    100% { transform: translate(0, 0) scale(1); }
  }

  .animate-blob-float {
    animation: blob-float 10s infinite ease-in-out;
  }

  .animate-blob-float-reverse {
    animation: blob-float-reverse 12s infinite ease-in-out;
  }

  /* Button Shine */
  @keyframes shine {
    100% {
      transform: translateX(100%);
    }
  }
</style>

<script>
  document.addEventListener('astro:page-load', () => {
    initCarousel();
  });

  // Fallback if view transitions aren't used or for initial load
  window.addEventListener('load', () => {
    initCarousel();
  });

  function initCarousel() {
    const track = document.getElementById('carousel-track');
    if (!track) return;

    const dots = document.querySelectorAll('.carousel-dot');
    let currentIndex = 0;
    const totalSlides = 2;
    let interval;

    const updateSlide = (index) => {
      currentIndex = index;
      track.style.transform = `translateX(-${currentIndex * 100}%)`;
      
      // Update dots
      dots.forEach((dot, i) => {
        if (i === currentIndex) {
          dot.classList.add('active-dot', 'bg-brand');
          dot.classList.remove('bg-white/20');
        } else {
          dot.classList.remove('active-dot', 'bg-brand');
          dot.classList.add('bg-white/20');
        }
      });
    };

    const nextSlide = () => {
      currentIndex = (currentIndex + 1) % totalSlides;
      updateSlide(currentIndex);
    };

    // Auto slide
    const startAutoSlide = () => {
      stopAutoSlide();
      interval = setInterval(nextSlide, 4000); // 4 seconds
    };

    const stopAutoSlide = () => {
      if (interval) clearInterval(interval);
    };

    // Event Listeners
    dots.forEach((dot, index) => {
      dot.addEventListener('click', () => {
        updateSlide(index);
        startAutoSlide(); // Restart timer on manual interaction
      });
    });

    // Pause on hover
    const carouselContainer = document.getElementById('store-carousel');
    carouselContainer.addEventListener('mouseenter', stopAutoSlide);
    carouselContainer.addEventListener('mouseleave', startAutoSlide);

    // Initial start
    startAutoSlide();
  }
</script>
